var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);n.prototype=e.prototype,t.prototype=new n},core;!function(t){var e=function(){function e(){this.dispatchObj=t.ControllerDispatcher.getInstance(),this.eventList={}}return e.prototype.destroy=function(){if(null!=this.eventList){var t=void 0;for(var e in this.eventList){t=this.eventList[e];for(var n=0;n<t.length;n++)this.removeEventListener(e,t[0],t[1],!0)}this.eventList=null}this.dispatchObj=null},e.prototype.addEventListener=function(t,e,n){void 0===n&&(n=null);var o=this.dispatchObj.addEventListener(t,e,n);return o&&(null==this.eventList[t]&&(this.eventList[t]=[]),this.eventList[t].push([e,n])),o},e.prototype.addEventListeners=function(t,e){void 0===e&&(e=null);for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];for(var r=0;r<n.length;r++)this.addEventListener(n[r],t,e)},e.prototype.dispatchEvent=function(t){return this.dispatchObj.dispatchEvent(t)},e.prototype.hasEventListener=function(t){return this.dispatchObj.hasEventListener(t)},e.prototype.removeEventListenerAll=function(t,e){void 0===e&&(e=!1);var n=this.eventList[t];if(null!=n){for(var o=0;o<n.length;o++)this.removeEventListener(t,n[0],n[1],e);return delete this.eventList[t],!0}return!1},e.prototype.removeEventListener=function(t,e,n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=this.dispatchObj.removeEventListener(t,e,n,o);if(r){var i=this.eventList[t];if(null!=i){for(var s=0;s<i.length;s++)if(i[s][0]==e&&i[s][1]==n){i.splice(s,1);break}0==i.length&&delete this.eventList[t]}}return r},e.prototype.removeEventListeners=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];for(var i=0;i<o.length;i++)this.removeEventListener(o[i],t,e,n)},e}();t.Controller=e,__reflect(e.prototype,"core.Controller",["core.IEventDispatcher","core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function e(){this.dispatchObj=t.ControllerDispatcher.getInstance(),this.dispatchServerObj=t.ServiceDispatcher.getInstance(),this.eventList={},this.activateProtocolCallback=!0}return e.prototype.destroy=function(){if(this.activateProtocolCallback=!1,null!=this.eventList){var t=void 0;for(var e in this.eventList){t=this.eventList[e];for(var n=0;n<t.length;n++)this.removeEventListener(e,t[0],t[1],!0)}this.eventList=null}this.dispatchObj=null,this.dispatchServerObj=null},e.prototype.initModel=function(){},e.prototype.clearData=function(){},e.prototype.getModel=function(e){return t.ModelManage.getInstance().getModel(e)},e.prototype.isActivateProtocolCallback=function(){return this.activateProtocolCallback},e.prototype.setActivateProtocolCallback=function(t){this.activateProtocolCallback=t},e.prototype.addProtocolCallback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)this.addEventListener(t[n],this.protocolCallback,this)},e.prototype.protocolCallback=function(e){if(this.activateProtocolCallback){var n=this[e.getEventType()];if(null!=n){var o=t.String.getFunctionArgs(n);o.length==e.getParamCount()?n.apply(this,e.getParams()):t.Log.error("协议回调失败，函数定义参数与接收协议参数个数不匹配。数据类: "+t.String.getClassName_Obj(this)+" 中定义的回调函数: "+e.getEventType()+" 参数个数: "+o.length+" 接收协议参数个数: "+e.getParamCount())}else t.Log.error("协议回调失败，数据类: "+t.String.getClassName_Obj(this)+" 中未定义回调函数: "+e.getEventType())}},e.prototype.addEventListener=function(t,e,n){void 0===n&&(n=null);var o=this.dispatchServerObj.addEventListener(t,e,n);return o&&(null==this.eventList[t]&&(this.eventList[t]=[]),this.eventList[t].push([e,n])),o},e.prototype.addEventListeners=function(t,e){void 0===e&&(e=null);for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];for(var r=0;r<n.length;r++)this.addEventListener(n[r],t,e)},e.prototype.dispatchEvent=function(t){return this.dispatchObj.dispatchEvent(t)},e.prototype.hasEventListener=function(t){return this.dispatchServerObj.hasEventListener(t)},e.prototype.removeEventListenerAll=function(t,e){void 0===e&&(e=!1);var n=this.eventList[t];if(null!=n){for(var o=0;o<n.length;o++)this.removeEventListener(t,n[0],n[1],e);return this.eventList[t]=null,!0}return!1},e.prototype.removeEventListener=function(t,e,n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=this.dispatchServerObj.removeEventListener(t,e,n,o);if(r){var i=this.eventList[t];if(null!=i){for(var s=0;s<i.length;s++)if(i[s][0]==e&&i[s][1]==n){i.splice(s,1);break}0==i.length&&(this.eventList[t]=null)}}return r},e.prototype.removeEventListeners=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];for(var i=0;i<o.length;i++)this.removeEventListener(o[i],t,e,n)},e}();t.Model=e,__reflect(e.prototype,"core.Model",["core.IEventDispatcher","core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.destroy=function(){this.parent=null,this.argList=null,this.viewLayerType=null,e.prototype.destroy.call(this)},n.prototype.open=function(){t.Log.error("所有继承 ViewController 的子类都必须重写 open() 方法，该方法在控制器被添加到显示列表时调用")},n.prototype.close=function(){t.Log.error("所有继承 ViewController 的子类都必须重写 close() 方法，该方法在控制器被移出显示列表时调用")},n.prototype.getParams=function(){return this.argList},n.prototype.setParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.argList=t},n.prototype.getParam=function(t){var e=null;return null!=this.argList&&this.argList.length>t&&(e=this.argList[t]),e},n.prototype.getParamCount=function(){return null==this.argList?0:this.argList.length},n.prototype.setParent=function(t,e){this.parent=t,this.viewLayerType=e},n.prototype.getParent=function(){return this.parent},n.prototype.getViewLayerType=function(){return this.viewLayerType},n.prototype.getModel=function(e){return t.ModelManage.getInstance().getModel(e)},n}(t.Controller);t.ViewController=e,__reflect(e.prototype,"core.ViewController")}(core||(core={}));var core;!function(t){var e=function(){function e(){this.eventList={}}return e.prototype.destroy=function(){this.eventList=null},e.prototype.addEventListener=function(e,n,o){void 0===o&&(o=null),null==this.eventList[e]&&(this.eventList[e]=new Array);for(var r,i=this.eventList[e],s=0;s<i.length;s++)if(r=i[s],r.compare(n,o))return t.Log.warning("添加事件监听失败，事件类型："+e+" 中的回调函数添加重复，请检查调用处是否正确调用"),!1;return i.push(new t.Callback(n,o)),!0},e.prototype.addEventListeners=function(t,e){void 0===e&&(e=null);for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];for(var r=0;r<n.length;r++)this.addEventListener(n[r],t,e)},e.prototype.dispatchEvent=function(t){if(null==this.eventList[t.getEventType()])return!1;t.setTarget(this);for(var e=this.eventList[t.getEventType()],n=new Array,o=0;o<e.length;o++)n.push(e[o]);t.setTarget(this);for(var o=0;o<n.length;o++)n[o].apply(t);return!0},e.prototype.hasEventListener=function(t){return null!=this.eventList[t]},e.prototype.removeEventListenerAll=function(t,e){if(void 0===e&&(e=!1),null==this.eventList[t])return!1;if(e)for(var n=this.eventList[t],o=n.length-1;o>=0;o--)n[o].destroy();return delete this.eventList[t],!0},e.prototype.removeEventListener=function(t,e,n,o){if(void 0===n&&(n=null),void 0===o&&(o=!1),null==this.eventList[t])return!1;for(var r,i=this.eventList[t],s=0;s<i.length;s++)if(r=i[s],r.compare(e,n))return o&&r.destroy(),i.splice(s,1),0==i.length&&delete this.eventList[t],!0;return!1},e.prototype.removeEventListeners=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];for(var i=0;i<o.length;i++)this.removeEventListener(o[i],t,e,n)},e}();t.EventDispatcher=e,__reflect(e.prototype,"core.EventDispatcher",["core.IEventDispatcher","core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function e(){this._intervalIndex=0,this._cache={},this._loadingCache=new Array,this._intervalIndex=egret.setInterval(this.dealSoundTimer,this,6e4)}return e.prototype.destroy=function(){0!=this._intervalIndex&&(egret.clearInterval(this._intervalIndex),this._intervalIndex=0)},e.prototype.dealSoundTimer=function(){for(var e=egret.getTimer(),n=Object.keys(this._cache),o=0,r=n.length;r>o;o++){var i=n[o];this.checkCanClear(i)&&e-this._cache[i]>=t.SoundManager.CLEAR_TIME&&(delete this._cache[i],RES.destroyRes(i))}},e.prototype.getSound=function(t){var e=RES.getRes(t);if(e)this._cache[t]&&(this._cache[t]=egret.getTimer());else{if(-1!=this._loadingCache.indexOf(t))return null;this._loadingCache.push(t),RES.getResAsync(t,this.onResourceLoadComplete,this)}return e},e.prototype.onResourceLoadComplete=function(t,e){var n=this._loadingCache.indexOf(e);-1!=n&&(this._loadingCache.splice(n,1),this._cache[e]=egret.getTimer(),this.loadedPlay(e))},e.prototype.loadedPlay=function(t){},e.prototype.checkCanClear=function(t){return!0},e}();t.SoundBase=e,__reflect(e.prototype,"core.SoundBase",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(e){function n(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.percentHeight=100,n.percentWidth=100,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.stageEvents,n),n.addEventListener(egret.Event.REMOVED_FROM_STAGE,n.stageEvents,n),null!=t&&n.reloaderSkin(t),n}return __extends(n,e),n.prototype.destroy=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.stageEvents,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.stageEvents,this),this.removeEventListener(eui.UIEvent.COMPLETE,this.loaderSkinCallback,this),this.stage.removeEventListener(egret.Event.RESIZE,this.changeViewFrameSize,this)},n.prototype.stageEvents=function(t){switch(t.type){case egret.Event.ADDED_TO_STAGE:this.stage.addEventListener(egret.Event.RESIZE,this.changeViewFrameSize,this),this.OnEnable();break;case egret.Event.REMOVED_FROM_STAGE:this.stage.removeEventListener(egret.Event.RESIZE,this.changeViewFrameSize,this),this.OnDisable()}},n.prototype.update=function(t){},n.prototype.OnEnable=function(){},n.prototype.OnDisable=function(){},n.prototype.changeWindowSize=function(t,e){},n.prototype.reloaderSkin=function(t){this.addEventListener(eui.UIEvent.COMPLETE,this.loaderSkinCallback,this),this.skinName=t},n.prototype.loaderSkinCallback=function(){this.removeEventListener(eui.UIEvent.COMPLETE,this.loaderSkinCallback,this),this.changeViewFrameSize(),this.loaderSkinComplete()},n.prototype.changeViewFrameSize=function(e){void 0===e&&(e=null);var n=document.documentElement.clientWidth,o=document.documentElement.clientHeight,r=n/o;n=r<t.GameConfig.designSizeAspectRatio?t.GameConfig.designSizeHeight*r:t.GameConfig.designSizeWidth,o=t.GameConfig.designSizeHeight,this.changeWindowSize(n,o)},n.prototype.loaderSkinComplete=function(){},n.prototype.getModel=function(e){return t.ModelManage.getInstance().getModel(e)},n}(eui.Component);t.UIView=e,__reflect(e.prototype,"core.UIView",["core.IBasicObject"])}(core||(core={}));var GameModel=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.initModel=function(){},e}(core.Model);__reflect(GameModel.prototype,"GameModel");var core;!function(t){var e;!function(t){t[t.Empty=0]="Empty",t[t.Connecting=1]="Connecting",t[t.ConnectionSucceed=2]="ConnectionSucceed",t[t.ConnectionFailure=3]="ConnectionFailure",t[t.Disconnect=4]="Disconnect"}(e=t.SocketState||(t.SocketState={}));var n=function(n){function o(){var t=n.call(this)||this;return t._socketState=e.Empty,t}return __extends(o,n),o.prototype.destroy=function(){this.close(),n.prototype.destroy.call(this)},o.prototype.getState=function(){return this._socketState},o.prototype.getDataType=function(){return null==this._socket?null:this._socket.type},o.prototype.connect=function(t,n,o){void 0===o&&(o=egret.WebSocket.TYPE_STRING),null!=this._socket&&this.close(),this._socketState=e.Connecting,o==egret.WebSocket.TYPE_BINARY&&(null!=this._receiveData?this._receiveData.clear():this._receiveData=new egret.ByteArray),this._socket=new egret.WebSocket,this._socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.socket_ReceiveMessage,this),this._socket.addEventListener(egret.Event.CONNECT,this.socket_Connect,this),this._socket.addEventListener(egret.Event.CLOSE,this.socket_Close,this),this._socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.socket_Error,this),this._socket.type=o,this._socket.connect(t,n)},o.prototype.connectByUrl=function(t,n){void 0===n&&(n=egret.WebSocket.TYPE_STRING),null!=this._socket&&this.close(),this._socketState=e.Connecting,n==egret.WebSocket.TYPE_BINARY&&(null!=this._receiveData?this._receiveData.clear():this._receiveData=new egret.ByteArray),this._socket=new egret.WebSocket,this._socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.socket_ReceiveMessage,this),this._socket.addEventListener(egret.Event.CONNECT,this.socket_Connect,this),this._socket.addEventListener(egret.Event.CLOSE,this.socket_Close,this),this._socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.socket_Error,this),this._socket.type=n,this._socket.connectByUrl(t)},o.prototype.close=function(){null!=this._socket&&(this._socket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.socket_ReceiveMessage,this),this._socket.removeEventListener(egret.Event.CONNECT,this.socket_Connect,this),this._socket.removeEventListener(egret.Event.CLOSE,this.socket_Close,this),this._socket.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.socket_Error,this),this._socket.close(),this._socket=null),this._socketState=e.Disconnect,null!=this._receiveData&&this._receiveData.clear()},o.prototype.socket_ReceiveMessage=function(e){this.getDataType()==egret.WebSocket.TYPE_BINARY?(this._socket.readBytes(this._receiveData),this.dispatchEvent(new t.Event(t.SocketEventType.ReceiveData,this.getDataType(),this._receiveData))):this.dispatchEvent(new t.Event(t.SocketEventType.ReceiveData,this.getDataType(),this._socket.readUTF()))},o.prototype.socket_Connect=function(n){this._socketState=e.ConnectionSucceed,this.dispatchEvent(new t.Event(t.SocketEventType.ConnectionSucceed))},o.prototype.socket_Close=function(e){this.close(),this.dispatchEvent(new t.Event(t.SocketEventType.Disconnect))},o.prototype.socket_Error=function(e){this.close(),this.dispatchEvent(new t.Event(t.SocketEventType.ConnectionFailure))},o.prototype.send=function(n){this._socketState==e.ConnectionSucceed?(this._socket.writeUTF(n),this._socket.flush()):t.Log.warning("尚未与服务器建立连接，不可发送协议")},o}(t.EventDispatcher);t.Socket=n,__reflect(n.prototype,"core.Socket")}(core||(core={}));var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),egret.ImageLoader.crossOrigin="anonymous",egret.registerImplementation("eui.IAssetAdapter",new AssetAdapter),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),core.CoreManage.getInstance().setDisplayObjectContainer(this),core.LoadingManage.getInstance().addConfig("resource/default.res.json","resource/"),core.LoadingManage.getInstance().loadConfig(this.onConfigComplete,this)},e.prototype.onConfigComplete=function(){var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},e.prototype.onThemeLoadComplete=function(){core.LoadingManage.getInstance().loadGroup("loading",this.onLoadingResLoadComplete,null,this)},e.prototype.onLoadingResLoadComplete=function(){core.PageManage.getInstance().addViewControl(LoadingViewControl,core.ViewLayerType.SceneLayer)},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var ProtocolList=function(){function t(){}return t.GetProtocolArgs=function(e){var n=t.protocolList[e];return null==n&&core.Log.error("获取协议参数失败，协议名："+e+"　未在协议列表[ProtocolList.protocolList]中定义"),n},t.protocolList={CheckUser_Jump:["uid","uname","roomid","iconURL"],ReCheckUser_Jump:["uid","uname","roomid","iconURL"],Ready_Jump:[],Move_Jump:["type","drop"],SendPing:[]},t}();__reflect(ProtocolList.prototype,"ProtocolList");var core;!function(t){var e=function(){function e(){}return e.start=function(n){null==e.pointList[n]?e.pointList[n]=t.Time.getUnixTimestamp_msec():t.Log.warning("DottingTimer 开始时间点错误，name: "+n+" 对象已存在，若要添加组打点，请调用 addition() 函数")},e.addition=function(n){if(null!=e.pointList[n]){var o=e.pointList[n];e.pointList[n]=t.Time.getUnixTimestamp_msec(),t.Log.print("DottingTimer_Addition "+n+": "+(e.pointList[n]-o))}else t.Log.warning("DottingTimer 增加时间点错误，name: "+n+" 对象未定义，请先调用 start 函数加入")},e.end=function(n){if(null!=e.pointList[n]){var o=e.pointList[n];e.pointList[n]=null,t.Log.print("DottingTimer_End "+n+": "+(t.Time.getUnixTimestamp_msec()-o))}else t.Log.warning("DottingTimer 结束时间点错误，name: "+n+" 对象不存在")},e.cleanup=function(){e.pointList={}},e.pointList={},e}();t.DottingTimer=e,__reflect(e.prototype,"core.DottingTimer")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.print=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t.DebugConfig.PrintLog&&(n.splice(0,0,t.Time.getClockTime()+"【"+e.PrintType+"】"),console.log.apply(console,n))},e.warning=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t.DebugConfig.PrintLog&&(n.splice(0,0,t.Time.getClockTime()+"【"+e.WarningType+"】"),console.log.apply(console,n))},e.error=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(t.DebugConfig.PrintLog)throw new Error(e.analysisLog(e.ErrorType,n))},e.analysisLog=function(e,n){for(var o=t.Time.getClockTime()+"【"+e+"】",r=0;r<n.length;r++)o+=(0==r?" ":", ")+n[r];return o},e.PrintType="Print",e.WarningType="Warning",e.ErrorType="Error",e}();t.Log=e,__reflect(e.prototype,"core.Log")}(core||(core={}));var core;!function(t){var e=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.eventType=t,this.argList=e}return t.prototype.destroy=function(){this.eventType=null,this.argList=null,this.target=null},t.prototype.getEventType=function(){return this.eventType},t.prototype.getTarget=function(){return this.target},t.prototype.setTarget=function(t){this.target=t},t.prototype.getParams=function(){return this.argList},t.prototype.setParams=function(t){this.argList=t},t.prototype.getParam=function(t){var e=null;return this.argList.length>t&&(e=this.argList[t]),e},t.prototype.getParamCount=function(){return this.argList.length},t}();t.Event=e,__reflect(e.prototype,"core.Event",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function e(){return e._create?(t.ModelManage.getInstance().initModels(),void(this.pageManage=t.PageManage.getInstance())):void t.Log.error("CoreManage 单例类，不能通过构造函数实例化。请使用 CoreManage.getInstance() 方法访问该实例")}return e.getInstance=function(){return null==e._instance&&(e._create=!0,e._instance=new e,e._create=!1),e._instance},e.prototype.setDisplayObjectContainer=function(e){var n=t.DisplayManage.getInstance();null!=n.updateFun&&n.updateFun.destroy(),n.updateFun=new t.Action1(this.update,this),null!=n.parent&&n.parent.removeChild(n),e.addChild(n)},e.prototype.update=function(t){null!=this.pageManage&&this.pageManage.update(t)},e.prototype.destroy=function(){this.pageManage.destroy(),this.pageManage=null,t.DisplayManage.getInstance().destroy(),t.ControllerDispatcher.getInstance().destroy(),t.ServiceDispatcher.getInstance().destroy(),t.DottingTimer.cleanup()},e}();t.CoreManage=e,__reflect(e.prototype,"core.CoreManage",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(e){function n(){var o=this;return n._create?o=e.call(this)||this:void t.Log.error("ControllerDispatcher 单例类，不能通过构造函数实例化。请使用 ControllerDispatcher.getInstance() 方法访问该实例")}return __extends(n,e),n.getInstance=function(){return null==n._instance&&(n._create=!0,n._instance=new n,n._create=!1),n._instance},n.prototype.destroy=function(){n._instance=null,e.prototype.destroy.call(this)},n}(t.EventDispatcher);t.ControllerDispatcher=e,__reflect(e.prototype,"core.ControllerDispatcher")}(core||(core={}));var core;!function(t){var e=function(e){function n(){var o=this;return n._create?o=e.call(this)||this:void t.Log.error("ServiceDispatcher 单例类，不能通过构造函数实例化。请使用 ServiceDispatcher.getInstance() 方法访问该实例")}return __extends(n,e),n.getInstance=function(){return null==n._instance&&(n._create=!0,n._instance=new n,n._create=!1),n._instance},n.prototype.destroy=function(){n._instance=null,e.prototype.destroy.call(this)},n}(t.EventDispatcher);t.ServiceDispatcher=e,__reflect(e.prototype,"core.ServiceDispatcher")}(core||(core={}));var core;!function(t){var e=function(){function e(){return this._groupIndex=0,e._create?(this._configs=new Array,this._groups={},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceLoadProgress,this),void RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this)):void t.Log.error("LoadingManage 单例类，不能通过构造函数实例化。请使用 LoadingManage.getInstance() 方法访问该实例")}return e.getInstance=function(){return null==e._instance&&(e._create=!0,e._instance=new e,e._create=!1),e._instance},e.prototype.destroy=function(){e._instance=null},e.prototype.addConfig=function(t,e){this._configs.push([t,e])},e.prototype.loadConfig=function(t,e){this._onConfigComplete=t,this._onConfigCompleteTarget=e,this.loadNextConfig()},e.prototype.loadNextConfig=function(){if(0==this._configs.length)return this._onConfigComplete.call(this._onConfigCompleteTarget),this._onConfigComplete=null,void(this._onConfigCompleteTarget=null);var t=this._configs.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(t[0],t[1])},e.prototype.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),this.loadNextConfig()},e.prototype.loadGroup=function(t,e,n,o){this._groups[t]=[e,n,o],RES.loadGroup(t)},e.prototype.loadGroups=function(t,e,n,o,r){RES.createGroup(t,e,!0),this.loadGroup(t,n,o,r)},e.prototype.pilfererLoadGroup=function(t,e){void 0===e&&(e=null);var n="pilferer_"+t;e||(e=[t]),RES.createGroup(n,e,!0),RES.loadGroup(n,-1)},e.prototype.onResourceLoadComplete=function(t){var e=t.groupName;if(this._groups[e]){var n=this._groups[e][0],o=this._groups[e][2];null!=n&&n.call(o),this._groups[e]=null,delete this._groups[e]}},e.prototype.onResourceLoadProgress=function(t){var e=t.groupName;if(this._groups[e]){var n=this._groups[e][1],o=this._groups[e][2];null!=n&&n.call(o,t.itemsLoaded,t.itemsTotal)}},e.prototype.onResourceLoadError=function(e){t.Log.warning(e.groupName+"资源组有资源加载失败"),this.onResourceLoadComplete(e)},e.prototype.loadResource=function(t,e,n,o,r){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null);var i=t.concat(e),s="loadGroup"+this._groupIndex++;RES.createGroup(s,i,!0),this._groups[s]=[n,o,r],RES.loadGroup(s)},e}();t.LoadingManage=e,__reflect(e.prototype,"core.LoadingManage",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(e){function n(){var o=this;return n._create?(o=e.call(this)||this,o.sceneLayer=new eui.UILayer,o.sceneLayer.touchEnabled=!1,o.addChild(o.sceneLayer),o.windowLayer=new eui.UILayer,o.windowLayer.touchEnabled=!1,o.addChild(o.windowLayer),o.loaderLayer=new eui.UILayer,o.loaderLayer.touchEnabled=!1,o.addChild(o.loaderLayer),o.noticeLayer=new eui.UILayer,o.noticeLayer.touchEnabled=!1,o.addChild(o.noticeLayer),o.addEventListener(egret.Event.ENTER_FRAME,o.enterFrame,o),o.lastRunTime=t.Time.getUnixTimestamp_msec(),o):void t.Log.error("DisplayManage 单例类，不能通过构造函数实例化。请使用 DisplayManage.getInstance() 方法访问该实例")}return __extends(n,e),n.getInstance=function(){return null==n._instance&&(n._create=!0,n._instance=new n,n._create=!1),n._instance},n.prototype.destroy=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),null!=this.updateFun&&(this.updateFun.destroy(),this.updateFun=null),this.sceneLayer&&(this.sceneLayer.parent&&this.sceneLayer.parent.removeChild(this.sceneLayer),this.sceneLayer=null),this.windowLayer&&(this.windowLayer.parent&&this.windowLayer.parent.removeChild(this.windowLayer),this.windowLayer=null),this.loaderLayer&&(this.loaderLayer.parent&&this.loaderLayer.parent.removeChild(this.loaderLayer),this.loaderLayer=null),this.noticeLayer&&(this.noticeLayer.parent&&this.noticeLayer.parent.removeChild(this.noticeLayer),this.noticeLayer=null),this.parent&&this.parent.removeChild(this),n._instance=null},n.prototype.enterFrame=function(e){var n=t.Time.getUnixTimestamp_msec(),o=n-this.lastRunTime;this.lastRunTime=n,null!=this.updateFun&&this.updateFun.apply(o)},n}(eui.UILayer);t.DisplayManage=e,__reflect(e.prototype,"core.DisplayManage")}(core||(core={}));var core;!function(t){var e;!function(t){t[t.Undefined=0]="Undefined",t[t.SceneLayer=1]="SceneLayer",t[t.WindowLayer=2]="WindowLayer",t[t.LoaderLayer=3]="LoaderLayer",t[t.NoticeLayer=4]="NoticeLayer"}(e=t.ViewLayerType||(t.ViewLayerType={}));var n;!function(t){t[t.Undefined=0]="Undefined",t[t.Retain=1]="Retain",t[t.HideBefore=2]="HideBefore",t[t.HideBeforeAll=3]="HideBeforeAll",t[t.RemoveBefore=4]="RemoveBefore",t[t.RemoveBeforeAll=5]="RemoveBeforeAll"}(n=t.RemoveViewType||(t.RemoveViewType={}));var o=function(){function o(){return o._create?(this.controlList={},this.cacheControlList={},void(this.controlUpdateList={})):void t.Log.error("PageManage 单例类，不能通过构造函数实例化。请使用 PageManage.getInstance() 方法访问该实例")}return o.getInstance=function(){return null==o._instance&&(o._create=!0,o._instance=new o,o._create=!1),o._instance},o.prototype.destroy=function(){var t;for(var e in this.controlList){t=this.controlList[e];for(var n=0;n<t.length;n++)t[n].destroy()}t=null,this.controlList=null;for(var e in this.cacheControlList)this.cacheControlList[e].destroy();this.cacheControlList=null,this.controlUpdateList=null,o._instance=null},o.prototype.update=function(t){var e;for(var n in this.controlUpdateList){e=this.controlUpdateList[n];for(var o in e)e[o].update(t)}},o.prototype.addViewControl=function(o,r,i){void 0===i&&(i=n.Retain);for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c,l,u=this.getControlList(r),h=t.String.getClassName(o);for(l=0;l<u.length;l++)if(u[l]instanceof o){c=u[l];break}switch(null!=c?(u.splice(l,1),this.removeUpdate(c)):(c=this.cacheControlList[h],null==c?c=new o:this.cacheControlList[h]=null),i){case n.HideBefore:this.removeControlList(u,!1);break;case n.HideBeforeAll:this.removeControlList(u,!1,-1);break;case n.RemoveBefore:this.removeControlList(u,!0);break;case n.RemoveBeforeAll:this.removeControlList(u,!0,-1)}switch(c.setParams.apply(c,s),u.push(c),r){case e.SceneLayer:this.removeControlAll(e.WindowLayer),c.setParent(t.DisplayManage.getInstance().sceneLayer,r);break;case e.WindowLayer:c.setParent(t.DisplayManage.getInstance().windowLayer,r);break;case e.LoaderLayer:c.setParent(t.DisplayManage.getInstance().loaderLayer,r);break;case e.NoticeLayer:c.setParent(t.DisplayManage.getInstance().noticeLayer,r)}return c.open(),this.addUpdate(c),c},o.prototype.getControl=function(t,e){for(var n,o=this.getControlList(e),r=0;r<o.length;r++)if(o[r]instanceof t){n=o[r];break}return n},o.prototype.removeControlAll=function(t,e){void 0===e&&(e=!1),this.removeControlList(this.getControlList(t),e,-1)},o.prototype.removeControl=function(e,n,o){void 0===o&&(o=!1);for(var r,i=this.getControlList(n),s=0;s<i.length;s++)if(r=i[s],i[s]instanceof e){if(i.splice(s,1),this.removeUpdate(r),o)r.destroy();else{var a=t.String.getClassName_Obj(r);null!=this.cacheControlList[a]&&this.cacheControlList[a].destroy(),this.cacheControlList[a]=r,r.close()}break}},o.prototype.removeControlList=function(e,n,o){if(void 0===o&&(o=1),null!=e){o>0&&(o=e.length-o),0>o&&(o=0);for(var r=void 0,i=e.length-1;i>=o;i--)if(r=e[i],e.splice(i,1),this.removeUpdate(r),n)r.destroy();else{var s=t.String.getClassName_Obj(r);null!=this.cacheControlList[s]&&this.cacheControlList[s].destroy(),this.cacheControlList[s]=r,r.close()}}},o.prototype.getControlList=function(n){var o;return n!=e.Undefined?(o=this.controlList[n],null==o&&(o=[],this.controlList[n]=o)):t.Log.error("获取视图列表失败，该视图类型不在识别范围 ViewLayerType: "+n),o},o.prototype.addUpdate=function(e){if(null!=e.update&&"function"==typeof e.update){null==this.controlUpdateList[e.getViewLayerType()]&&(this.controlUpdateList[e.getViewLayerType()]={});var n=t.String.getClassName_Obj(e);this.controlUpdateList[e.getViewLayerType()][n]=e}},o.prototype.removeUpdate=function(e){var n=this.controlUpdateList[e.getViewLayerType()];if(null!=n){var o=t.String.getClassName_Obj(e);null!=n[o]&&delete n[o],t.ObjectExtend.isEmptyObject(n)&&delete this.controlUpdateList[e.getViewLayerType()]}},o}();t.PageManage=o,__reflect(o.prototype,"core.PageManage",["core.IBasicObject"])}(core||(core={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function o(o){e.call(n,o,t)}if(RES.hasRes(t)){var r=RES.getRes(t);r?o(r):RES.getResAsync(t,o,this)}else RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var core;!function(t){var e=function(){function e(){return e._create?(this.modelList={},void this.createModels()):void t.Log.error("ModelManage 单例类，不能通过构造函数实例化。请使用 ModelManage.getInstance() 方法访问该实例")}return e.getInstance=function(){return null==e._instance&&(e._create=!0,e._instance=new e,e._create=!1),e._instance},e.prototype.destroy=function(){for(var t in this.modelList)this.modelList[t].destroy();this.modelList=null,e._instance=null},e.prototype.createModels=function(){for(var e,n,o=ModelList.modelClassList.length,r=0;o>r;r++)e=ModelList.modelClassList[r],n=new e,this.modelList[t.String.getClassName(e)]=n},e.prototype.initModels=function(){for(var t in this.modelList)this.modelList[t].initModel()},e.prototype.clearDataModels=function(){for(var t in this.modelList)this.modelList[t].clearData()},e.prototype.getModel=function(e){var n=t.String.getClassName(e),o=this.modelList[n];return null==o&&t.Log.error("获取数据类 className: "+n+" 失败，该数据类不存在，请确认该类已添加到 ModelList 列表"),o},e}();t.ModelManage=e,__reflect(e.prototype,"core.ModelManage",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function e(){e._create||t.Log.error("HttpRequestManage 单例类，不能通过构造函数实例化。请使用 HttpRequestManage.getInstance() 方法访问该实例"),this.requestList={}}return e.getInstance=function(){return null==e._instance&&(e._create=!0,e._instance=new e,e._create=!1),e._instance},e.prototype.destroy=function(){if(null!=this.requestList){var t;for(var n in this.requestList)t=this.requestList[n],t.removeEventListener(egret.Event.COMPLETE,this.onGetComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),t.removeEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this);this.requestList=null}e._instance=null},e.prototype.send=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=ProtocolList.GetProtocolArgs(e);if(null!=r){r.length!=n.length&&t.Log.error("发送的协议："+e+" 参数与定义参数不匹配，请检查调用处是否错误。定义参数："+r.length+" 传入参数："+n.length);var i={};i.name=e,i.params={};for(var s=0;s<r.length;s++)i.params[r[s]]=n[s];var a=JSON.stringify(i);t.Log.print("发送协议："+a);var c=new egret.HttpRequest;c.responseType=egret.HttpResponseType.TEXT,c.open(t.GameConfig.serverHttpRUL,egret.HttpMethod.POST),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(a),c.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this),c.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),c.addEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this),null==this.requestList[c.hashCode]?this.requestList[c.hashCode]=c:t.Log.error("HttpRequest 对象已存在，不能重复添加")
}},e.prototype.onGetComplete=function(e){var n=e.currentTarget;n.removeEventListener(egret.Event.COMPLETE,this.onGetComplete,this),n.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),n.removeEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this),this.requestList[n.hashCode]=null,t.Log.print("接收协议："+n.response);var o=JSON.parse(n.response);t.String.isNullOrEmpty(o.name)?t.Log.warning("返回协议失败，协议名未定义"):t.ServiceDispatcher.getInstance().hasEventListener(o.name)?t.ServiceDispatcher.getInstance().dispatchEvent(new t.Event(o.name,o.params)):t.Log.warning("协议："+o.name+" 未定义回调函数，请确认该协议是否有效")},e.prototype.onGetIOError=function(e){var n=e.currentTarget;n.removeEventListener(egret.Event.COMPLETE,this.onGetComplete,this),n.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),n.removeEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this),this.requestList[n.hashCode]=null,t.Log.error("接收协议错误",e)},e.prototype.onGetProgress=function(e){t.Log.print("接收协议进度："+Math.floor(100*e.bytesLoaded/e.bytesTotal)+"%")},e}();t.HttpRequestManage=e,__reflect(e.prototype,"core.HttpRequestManage",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.sendNative=function(e,n){switch(void 0===n&&(n=null),null==n&&(n={}),egret.Capabilities.os){case"iOS":case"Android":if("onPKFinish"==e&&(null==window.nativeApp||null==window.nativeApp.onPKFinish)&&null!=window.TZOpen&&null!=window.TZOpen.getResult){var o=JSON.stringify(n);return t.Log.print("发送NativeCall name:"+e+" param:"+o),void window.TZOpen.getResult(o)}if(null!=window.nativeApp&&null!=window.nativeApp[e]){var o=JSON.stringify(n);t.Log.print("发送NativeCall name:"+e+" param:"+o),window.nativeApp[e](o)}break;default:t.Log.warning("发送NativeCall失败，平台未定义",egret.Capabilities.os," name:"+e," param:",JSON.stringify(n))}},e}();t.NativeCall=e,__reflect(e.prototype,"core.NativeCall")}(core||(core={}));var ModelList=function(){function t(){}return t.modelClassList=[GameModel],t}();__reflect(ModelList.prototype,"ModelList");var core;!function(t){var e=function(){function t(){}return t.ConnectionSucceed="SocketEventType_ConnectionSucceed",t.ConnectionFailure="SocketEventType_ConnectionFailure",t.ReceiveData="SocketEventType_ReceiveData",t.Disconnect="SocketEventType_Disconnect",t}();t.SocketEventType=e,__reflect(e.prototype,"core.SocketEventType")}(core||(core={}));var core;!function(t){var e=function(){function e(){e._create||t.Log.error("SocketManage 单例类，不能通过构造函数实例化。请使用 SocketManage.GetInstance() 方法访问该实例")}return e.getInstance=function(){return null==e._instance&&(e._create=!0,e._instance=new e,e._create=!1),e._instance},e.prototype.destroy=function(){this.closeSocket(),e._instance=null},e.prototype.getState=function(){return null==this._socket?t.SocketState.Empty:this._socket.getState()},e.prototype.createSocket=function(e,n,o){void 0===o&&(o=egret.WebSocket.TYPE_STRING),this.closeSocket(),t.Log.print("创建连接 ip:"+e+" post:"+n),this._socket=new t.Socket,this._socket.addEventListeners(this.socketLongCallback,this,t.SocketEventType.ConnectionSucceed,t.SocketEventType.ConnectionFailure,t.SocketEventType.Disconnect,t.SocketEventType.ReceiveData),this._socket.connect(e,n,o)},e.prototype.createSocketByUrl=function(e,n){void 0===n&&(n=egret.WebSocket.TYPE_STRING),this.closeSocket(),t.Log.print("创建连接 url:"+e),this._socket=new t.Socket,this._socket.addEventListeners(this.socketLongCallback,this,t.SocketEventType.ConnectionSucceed,t.SocketEventType.ConnectionFailure,t.SocketEventType.Disconnect,t.SocketEventType.ReceiveData),this._socket.connectByUrl(e,n)},e.prototype.closeSocket=function(){null!=this._socket&&(this._socket.removeEventListeners(this.socketLongCallback,this,!1,t.SocketEventType.ConnectionSucceed,t.SocketEventType.ConnectionFailure,t.SocketEventType.Disconnect,t.SocketEventType.ReceiveData),this._socket.destroy(),this._socket=null)},e.prototype.send=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(null==this._socket)return void t.Log.warning("socket 未创建，发送协议前请先创建 socket");if(this._socket.getState()!=t.SocketState.ConnectionSucceed)return void t.Log.warning("socket 还未与服务器建立连接，请稍后");var r=ProtocolList.GetProtocolArgs(e);if(null!=r){if(r.length!=n.length)return void t.Log.error("发送的协议："+e+" 参数与定义参数不匹配，请检查调用处是否错误。定义参数："+r.length+" 传入参数："+n.length);var i={};i.name=e,i.params={};for(var s=0;s<r.length;s++)i.params[r[s]]=n[s];var a=JSON.stringify(i);t.Log.print("发送协议："+a),this._socket.send(a)}},e.prototype.socketLongCallback=function(e){switch(e.getEventType()){case t.SocketEventType.ConnectionSucceed:t.Log.print("连接成功"),this.DispatchEventToControl(e);break;case t.SocketEventType.ConnectionFailure:t.Log.print("连接失败"),this.DispatchEventToControl(e);break;case t.SocketEventType.Disconnect:t.Log.print("断开连接"),this.DispatchEventToControl(e);break;case t.SocketEventType.ReceiveData:this.AnalysisProtocol(e.getParam(0),e.getParam(1))}},e.prototype.AnalysisProtocol=function(e,n){var o;if(e==egret.WebSocket.TYPE_STRING){o=n,t.Log.print("接收协议："+o);var r=JSON.parse(o);t.String.isNullOrEmpty(r.name)?t.Log.warning("返回协议失败，协议名未定义"):this.HasEventListener(r.name)?this.DispatchEvent(new t.Event(r.name,r.params)):t.Log.warning("协议："+r.name+" 未定义回调函数，请确认该协议是否有效")}else t.Log.error("返回协议解析数据未定义，二进制数据解析未完善")},e.prototype.DispatchEvent=function(e){return t.ServiceDispatcher.getInstance().dispatchEvent(e)},e.prototype.DispatchEventToControl=function(e){return t.ControllerDispatcher.getInstance().dispatchEvent(e)},e.prototype.HasEventListener=function(e){return t.ServiceDispatcher.getInstance().hasEventListener(e)},e}();t.SocketManage=e,__reflect(e.prototype,"core.SocketManage",["core.IBasicObject"])}(core||(core={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,o){function r(t){e.call(o,t)}function i(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),n.call(o))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var core;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._currBgm="",e}return __extends(e,t),e.prototype.stop=function(){this._currSoundChannel&&this._currSoundChannel.stop(),this._currSoundChannel=null,this._currSound=null,this._currBgm=""},e.prototype.play=function(t,e){if(this._currBgm!=t){this.stop(),this._currBgm=t,this._loops=e;var n=this.getSound(t);n&&this.playSound(n,this._loops)}},e.prototype.playSound=function(t,e){this._currSound=t,this._currSoundChannel=this._currSound.play(0,e),this._currSoundChannel.volume=this._volume},e.prototype.setVolume=function(t){this._volume=t,this._currSoundChannel&&(this._currSoundChannel.volume=this._volume)},e.prototype.loadedPlay=function(t){this._currBgm==t&&this.playSound(RES.getRes(t),this._loops)},e.prototype.checkCanClear=function(t){return this._currBgm!=t},e}(t.SoundBase);t.SoundBgm=e,__reflect(e.prototype,"core.SoundBgm")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.play=function(t){var e=this.getSound(t);e&&this.playSound(e)},e.prototype.playSound=function(t){var e=t.play(0,1);e.volume=this._volume},e.prototype.setVolume=function(t){this._volume=t},e.prototype.loadedPlay=function(t){this.playSound(RES.getRes(t))},e}(t.SoundBase);t.SoundEffects=e,__reflect(e.prototype,"core.SoundEffects")}(core||(core={}));var core;!function(t){var e=function(){function e(){return e._create?(this.bgmOn=!0,this.effectOn=!0,this.bgmVolume=.5,this.effectVolume=.5,this.bgm=new t.SoundBgm,this.bgm.setVolume(this.bgmVolume),this.effect=new t.SoundEffects,void this.effect.setVolume(this.effectVolume)):void t.Log.error("SoundManager 单例类，不能通过构造函数实例化。请使用 SoundManager.getInstance() 方法访问该实例")}return e.getInstance=function(){return null==e._instance&&(e._create=!0,e._instance=new e,e._create=!1),e._instance},e.prototype.destroy=function(){},e.prototype.playEffect=function(t){this.effectOn&&this.effect.play(t)},e.prototype.playBgm=function(t,e){void 0===e&&(e=0),this.currBgm=t,this.bgmOn&&this.bgm.play(t,e)},e.prototype.stopBgm=function(){this.bgm.stop()},e.prototype.setEffectOn=function(t){this.effectOn=t},e.prototype.setBgmOn=function(t){this.bgmOn=t,this.bgmOn?this.currBgm&&this.playBgm(this.currBgm):this.stopBgm()},e.prototype.getBgmOn=function(){return this.bgmOn},e.prototype.getEffectOn=function(){return this.effectOn},e.prototype.setBgmVolume=function(t){t=Math.min(t,1),t=Math.max(t,0),this.bgmVolume=t,this.bgm.setVolume(this.bgmVolume)},e.prototype.getBgmVolume=function(){return this.bgmVolume},e.prototype.setEffectVolume=function(t){t=Math.min(t,1),t=Math.max(t,0),this.effectVolume=t,this.effect.setVolume(this.effectVolume)},e.prototype.getEffectVolume=function(){return this.effectVolume},e.CLEAR_TIME=18e4,e}();t.SoundManager=e,__reflect(e.prototype,"core.SoundManager",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function e(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.list=new Array,null!=t&&this.add(t,e)}return e.prototype.destroy=function(){for(var t=0;t<this.list.length;t++)this.list[t].destroy();this.list=null},e.prototype.clean=function(){for(var t=0;t<this.list.length;t++)this.list[t].destroy();this.list=[]},e.prototype.add=function(e,n){for(var o,r=0;r<this.list.length;r++)if(o=this.list[r],o.compare(e,n))return t.Log.warning("Action 添加回调函数失败，该回调还是已添加，无需重复添加"),!1;return this.list.push(new t.Callback(e,n)),!0},e.prototype.remove=function(t,e){for(var n,o=0;o<this.list.length;o++)if(n=this.list[o],n.compare(t,e))return this.list.splice(o,1),!0;return!1},e.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,o,r=0;r<this.list.length;r++)o=this.list[r],n=o.apply.apply(o,t);return n},e}();__reflect(e.prototype,"BasicAction",["core.IBasicObject"]);var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(){return this.call()},e}(e);t.Action=n,__reflect(n.prototype,"core.Action");var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(t){return this.call(t)},e}(e);t.Action1=o,__reflect(o.prototype,"core.Action1");var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(t,e){return this.call(t,e)},e}(e);t.Action2=r,__reflect(r.prototype,"core.Action2");var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(t,e,n){return this.call(t,e,n)},e}(e);t.Action3=i,__reflect(i.prototype,"core.Action3");var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(t,e,n,o){return this.call(t,e,n,o)},e}(e);t.Action4=s,__reflect(s.prototype,"core.Action4");var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(){return this.call()},e}(e);t.Func=a,__reflect(a.prototype,"core.Func")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.convertAll=function(t,e){for(var n=new Array,o=0;o<t.length;o++)n.push(e.apply(t[o]));return n},t.contains=function(t,e){return t.indexOf(e)>=0},t.remove=function(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)},t.add=function(t,e){var n=t.indexOf(e);-1==n&&t.push(e)},t.AddRange=function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])},t.Copy=function(t,e,n,o,r){for(var i=0;r>i;i++)n[o+i]=t[e],e++,e>=t.length&&(e=0)},t}();t.ArrayExtend=e,__reflect(e.prototype,"core.ArrayExtend")}(core||(core={}));var core;!function(t){var e=function(){function t(t,e){this.fun=t,this.obj=e}return t.prototype.destroy=function(){this.fun=null,this.obj=null},t.prototype.apply=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null==this.fun?null:this.fun.apply(this.obj,t)},t.prototype.compare=function(t,e){return this.fun==t&&this.obj==e},t.prototype.getOjb=function(){return this.obj},t.prototype.getFun=function(){return this.fun},t}();t.Callback=e,__reflect(e.prototype,"core.Callback",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function t(){this._keyList=new Array,this._valueList=new Array}return t.prototype.destroy=function(){this.Clear(),this._keyList=null,this._valueList=null},t.prototype.GetKeys=function(){return this._keyList},t.prototype.GetValues=function(){return this._valueList},t.prototype.Clear=function(){this._keyList.splice(0,this._keyList.length),this._valueList.splice(0,this._valueList.length)},Object.defineProperty(t.prototype,"Count",{get:function(){return this._keyList.length},enumerable:!0,configurable:!0}),t.prototype.Add=function(t,e){var n=this._keyList.indexOf(t);-1==n?(this._keyList.push(t),this._valueList.push(e)):this._valueList.splice(n,1,e)},t.prototype.Remove=function(t){var e=this._keyList.indexOf(t);return e>-1?(this._keyList.splice(e,1),this._valueList.splice(e,1),!0):!1},t.prototype.ContainsKey=function(t){var e=this._keyList.indexOf(t);return-1!=e},t.prototype.ContainsValue=function(t){var e=this._valueList.indexOf(t);return-1!=e},t.prototype.GetValue=function(t){var e=this._keyList.indexOf(t);return-1!=e?this._valueList[e]:null},t.prototype.GetKey=function(t){var e=this._valueList.indexOf(t);return-1!=e?this._keyList[e]:null},t}();t.Dictionary=e,__reflect(e.prototype,"core.Dictionary",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.crossMul=function(t,e){return t.x*e.y-t.y*e.x},t.checkCross=function(e,n,o,r){var i=egret.Point.create(e.x-o.x,e.y-o.y),s=egret.Point.create(n.x-o.x,n.y-o.y),a=egret.Point.create(r.x-o.x,r.y-o.y),c=t.crossMul(i,a)*t.crossMul(s,a);return i.x=o.x-e.x,i.y=o.y-e.y,s.x=r.x-e.x,s.y=r.y-e.y,a.x=n.x-e.x,a.y=n.y-e.y,0>=c&&t.crossMul(i,a)*t.crossMul(s,a)<=0?!0:!1},t}();t.MathExtend=e,__reflect(e.prototype,"core.MathExtend")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.isEmptyObject=function(t){if(t)for(var e in t)return!1;return!0},t.getHashCode=function(t){for(var e=t.toString(),n=0,o=e.length,r=2147483648,i=0;o>i;i++)n=31*n+e.charCodeAt(i),n>2147483647&&(n%=r);return n},t}();t.ObjectExtend=e,__reflect(e.prototype,"core.ObjectExtend")}(core||(core={}));var core;!function(t){var e=function(){function t(t){void 0===t&&(t=null),this.value=t}return t}();t.OutValue=e,__reflect(e.prototype,"core.OutValue")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.padLeft=function(t,e,n){return void 0===n&&(n="0"),(Array(e).join(n)+t).slice(-e)},t.padRight=function(t,e,n){return void 0===n&&(n="0"),(t+Array(e).join(n)).substring(0,e)},t.getClassName=function(t){return t.name},t.getClassName_Obj=function(t){return null!=t.__proto__&&null!=t.__proto__.__class__?t.__proto__.__class__:typeof t},t.getFunctionArgs=function(t){var e=t.toString().match(/function\s.*?\(([^)]*)\)/)[1];return e.split(",").map(function(t){return t.replace(/\/\*.*\*\//,"").trim()}).filter(function(t){return t})},t.isNullOrEmpty=function(t){return null==t||""==t},t.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(0==e.length)return null;for(var o=t,r=0;r<e.length;r++){var i=new RegExp("\\{"+r+"\\}","gm");o=o.replace(i,e[r])}return o},t.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?n[2]:null},t.uuid=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(0>=e&&(e=n.length),t>0)for(var r=0;t>r;r++)o[r]=n[0|Math.random()*e];else{var i=void 0;o[8]=o[13]=o[18]=o[23]="-",o[14]="4";for(var r=0;36>r;r++)o[r]||(i=0|16*Math.random(),o[r]=n[19==r?3&i|8:i])}return o.join("")},t.SHA1=function(e){for(var n,o=t.AlignSHA1(e),r=new Array(80),i=1732584193,s=-271733879,a=-1732584194,c=271733878,l=-1009589776,u=0;u<o.length;u+=16){for(var h=i,p=s,g=a,d=c,f=l,v=0;80>v;v++)16>v?r[v]=o[u+v]:r[v]=t.rol(r[v-3]^r[v-8]^r[v-14]^r[v-16],1),n=t.add(t.add(t.rol(i,5),t.ft(v,s,a,c)),t.add(t.add(l,r[v]),t.kt(v))),l=c,c=a,a=t.rol(s,30),s=i,i=n;i=t.add(i,h),s=t.add(s,p),a=t.add(a,g),c=t.add(c,d),l=t.add(l,f)}var y=t.SHA1hex(i)+t.SHA1hex(s)+t.SHA1hex(a)+t.SHA1hex(c)+t.SHA1hex(l);return y.toUpperCase()},t.SHA2=function(e){return t.SHA1(e).toLowerCase()},t.add=function(t,e){return(2147483647&t)+(2147483647&e)^2147483648&t^2147483648&e},t.SHA1hex=function(t){for(var e="0123456789abcdef",n="",o=7;o>=0;o--)n+=e.charAt(t>>4*o&15);return n},t.AlignSHA1=function(t){for(var e=(t.length+8>>6)+1,n=new Array(16*e),o=0;16*e>o;o++)n[o]=0;for(o=0;o<t.length;o++)n[o>>2]|=t.charCodeAt(o)<<24-8*(3&o);return n[o>>2]|=128<<24-8*(3&o),n[16*e-1]=8*t.length,n},t.rol=function(t,e){return t<<e|t>>>32-e},t.ft=function(t,e,n,o){return 20>t?e&n|~e&o:40>t?e^n^o:60>t?e&n|e&o|n&o:e^n^o},t.kt=function(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514},t}();t.String=e,__reflect(e.prototype,"core.String")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.updateFrameCount=function(){e._frameCount++},e.getFrameCount=function(){return e._frameCount},e.updateDeltaTime=function(){if(0==e._deltaTimePoint)e._deltaTimePoint=e.getUnixTimestamp_msec(),e._deltaTime=0;else{var t=e.getUnixTimestamp_msec();e._deltaTime=(t-e._deltaTimePoint)/1e3,e._deltaTimePoint=t}},e.getDeltaTime=function(){return e._deltaTime},e.getProcessTime=function(){return e.getUnixTimestamp_msec()-e.processTime},e.getUnixTimestamp_sec=function(){return Date.now()/1e3},e.getUnixTimestamp_msec=function(){return Date.now()},e.getFullTime=function(){var e=new Date,n=e.getFullYear()+"-"+t.String.padLeft(e.getMonth(),2)+"-"+t.String.padLeft(e.getDay(),2)+" "+t.String.padLeft(e.getHours(),2)+":"+t.String.padLeft(e.getMinutes(),2)+":"+t.String.padLeft(e.getSeconds(),2)+"."+t.String.padLeft(e.getMilliseconds(),3);return n},e.getClockTime=function(){var e=new Date,n=t.String.padLeft(e.getHours(),2)+":"+t.String.padLeft(e.getMinutes(),2)+":"+t.String.padLeft(e.getSeconds(),2)+"."+t.String.padLeft(e.getMilliseconds(),3);return n},e.getServerTime=function(){return-1==e.serverTime&&e.setServerTime(e.getUnixTimestamp_sec()),e.serverTime+(e.getUnixTimestamp_sec()-e.getServerTimeLocalPoint)},e.setServerTime=function(t){e.serverTime=t,e.getServerTimeLocalPoint=e.getUnixTimestamp_sec()},e.timeScale=1,e._frameCount=0,e._deltaTime=0,e._deltaTimePoint=0,e.processTime=e.getUnixTimestamp_msec(),e.serverTime=-1,e}();t.Time=e,__reflect(e.prototype,"core.Time")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.playLoop=function(e,n,o){void 0===n&&(n=!0),void 0===o&&(o=-1);for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];if(0==r.length){for(var s=void 0,a=0;a<e.items.length;a++)s=e.items[a],null==s.tween?null==s.props?s.props={loop:n}:s.props.loop=n:s.tween.loop=n;-1==o?e.play():e.play(o)}else for(var s=void 0,a=0;a<r.length;a++)s=e.items[r[a]],null!=s?(null==s.tween?null==s.props?s.props={loop:n}:s.props.loop=n:s.tween.loop=n,-1==o?e.play():e.play(o)):t.Log.error("播放动画对象失败，该对象索引:"+r[a]+" 超出动画组索引列表")},e}();t.TweenExtend=e,__reflect(e.prototype,"core.TweenExtend")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.PrintLog=!1,t}();t.DebugConfig=e,__reflect(e.prototype,"core.DebugConfig")}(core||(core={}));var core;!function(t){var e;!function(t){t[t.Undefined=0]="Undefined",t[t.View=1]="View",t[t.Color=2]="Color"}(e=t.RichType||(t.RichType={}));var n=function(){function n(){}return n.create=function(t){var e,n=t.match("[a-zA-Z0-9]+");if(n&&n.length>=1)switch(n[0]){case"quad":e=new o;break;case"color":e=new r}return e},n.prototype.destroy=function(){this.clear()},n.prototype.clear=function(){this.richType=e.Undefined,this.index=-1},n.prototype.setInfo=function(t){t=t.slice(1,t.length-1);var e=t.split(" ");if(null!=e)for(var n=void 0,o=void 0,r=void 0,i=void 0,s=0,a=e.length;a>s;s++)r=e[s].match("(\\w+\\s*)=(\\s*[^\\b]+)"),r&&(n=r[1],o=r[2],i=this[n],null!=i&&("string"==typeof i?this[n]=o:"number"==typeof i&&(this[n]=Number(o))))},n.prototype.getRichType=function(){return this.richType},n.prototype.setIndex=function(e){0>e?t.Log.error("富文本对象设置索引错误，索引不能小于0"):this.index=e},n.prototype.getIndex=function(){return this.index},n}();t.RichInfo=n,__reflect(n.prototype,"core.RichInfo",["core.IBasicObject"]);var o=function(t){function n(){var n=t.call(this)||this;return n.name="",n.size=0,n.width=0,n.yoffset=0,n.richType=e.View,n}return __extends(n,t),n.prototype.clear=function(){this.name="",this.size=0,this.width=0,this.yoffset=0,t.prototype.clear.call(this)},n}(n);t.RichInfo_View=o,__reflect(o.prototype,"core.RichInfo_View");var r=function(t){function n(){var n=t.call(this)||this;return n.color="",n.endIndex=0,n.richType=e.Color,n}return __extends(n,t),n.prototype.clear=function(){this.color="",this.endIndex=0,t.prototype.clear.call(this)},n}(n);t.RichInfo_Color=r,__reflect(r.prototype,"core.RichInfo_Color")}(core||(core={}));var core;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._originalContext="",n._context="",n._maxWidth=0,n._bitWide=0,n._bitHeight=0,n.tempDataList=new t.Dictionary,n.t_context=new egret.TextField,n.addChild(n.t_context),n._htmlText=new egret.HtmlTextParser,n.c_sprite=new egret.Sprite,n.addChild(n.c_sprite),n._bitWide=n.t_context.size/4,n._bitHeight=n.t_context.size+n.t_context.lineSpacing,n}return __extends(n,e),n.prototype.destroy=function(){this.t_context&&(this.t_context.parent&&this.t_context.parent.removeChild(this.t_context),this.t_context=null),this.c_sprite&&(this.c_sprite.removeChildren(),this.c_sprite.parent&&this.c_sprite.parent.removeChild(this.c_sprite),this.c_sprite=null),this._richInfoList=null,this._htmlText=null},n.prototype.clear=function(){this.t_context.textFlow=this._htmlText.parser(""),this.c_sprite.removeChildren(),this._richInfoList.splice(0),this._maxWidth=0,this._bitWide=0,this._bitHeight=0},n.prototype.setText=function(t){if(this._originalContext!=t){this._originalContext=t||"";var e=this.analysisRichText(this._originalContext);this._context=e[0],this._richInfoList=e[1],this.updateContent()}},n.prototype.getText=function(){return this._context},n.prototype.getOriginalText=function(){return this._originalContext},n.prototype.setColor=function(e){0>e||e>16777215?t.Log.warning("字体颜色值不在 0 ~ 0xffffff 取值范围"):this.t_context.textColor=e},n.prototype.getColor=function(){return this.t_context.textColor},n.prototype.setFontSize=function(e){1>e?t.Log.warning("字体大小不能小于1"):this.t_context.size!=e&&(this.t_context.size=e,this._bitWide=e/4,this._bitHeight=e+this.t_context.lineSpacing,this.updateContent())},n.prototype.getFontSize=function(){return this.t_context.size},n.prototype.setFont=function(e){t.String.isNullOrEmpty(e)?t.Log.warning("设置字体失败，字体名不能为空"):this.t_context.fontFamily=e},n.prototype.getFont=function(){return this.t_context.fontFamily},n.prototype.setMaxWidth=function(e){0>e?t.Log.warning("设置最大宽度失败，最大宽度不能小于0"):this._maxWidth!=e&&(this._maxWidth=this.width=e,this.updateContent())},n.prototype.getMaxWidth=function(){return this._maxWidth},n.prototype.setLineSpacing=function(t){this.t_context.lineSpacing=t,this._bitHeight=this.getFontSize()+t,this.updateContent()},n.prototype.getLineSpacing=function(){return this.t_context.lineSpacing},n.prototype.analysisRichText=function(e){for(var n,o,r="",i=new Array,s=e,a=s.length,c=s.length,l=0,u=0;;){if(l=s.lastIndexOf("<",a),-1==l){c>=0&&(n=s.slice(0,c),r=n+r);break}if(u=s.indexOf(">",l),-1!=u)if(u++,c>u?(n=s.slice(u,c),r=n+r,c=l):c-=u-l,n=s.slice(l,u),-1!=n.indexOf("</")){var h=n.match("[a-zA-Z0-9]+");null!=h&&h.length>=1&&(this.tempDataList.Add(h[0],s.length-u),s=s.slice(0,l)+s.slice(u,s.length))}else if(o=t.RichInfo.create(n)){switch(o.setInfo(n),o.setIndex(s.length-u),o.getRichType()){case t.RichType.Color:if(this.tempDataList.ContainsKey("color")){var p=this.tempDataList.GetValue("color");this.tempDataList.Remove("color"),o.endIndex=p}}i.splice(0,0,o),s=s.slice(0,l)+s.slice(u,s.length)}a=l-1}for(var g=s.length,d=0,f=i.length;f>d;d++)switch(o=i[d],o.setIndex(g-o.getIndex()),o.getRichType()){case t.RichType.Color:o.endIndex=g-o.endIndex}return[r,i]},n.prototype.updateContent=function(){if(null!=this._richInfoList&&null!=this._context){this.c_sprite.removeChildren();for(var e=new t.OutValue(""),n=new t.OutValue(0),o=new t.OutValue(0),r=new t.OutValue(0),i=void 0,s=void 0,a=0,c=0,l=this._richInfoList.length;l>c;c++)switch(i=this._richInfoList[c],this.calculateNewline(e,this._context.slice(a,i.getIndex())),a=i.getIndex(),i.getRichType()){case t.RichType.View:var u=i;this.calculateInsertImageAndPos(e,t.String.padLeft("",Math.ceil(u.size/this._bitWide),"	"),u.size,n,o,r),s=new eui.Image(u.name+"_png"),s.width=s.height=u.size,s.x=n.value,s.y=o.value,this.c_sprite.addChild(s);break;case t.RichType.Color:var h=i;if(h.getIndex()>=h.endIndex)t.Log.warning("设置文本文字颜色值失败，请检查开始索引和结束索引是否正确");else{a=i.endIndex;var p=this._context.slice(h.getIndex(),a),g=e.value.length;this.calculateNewline(e,p),e.value=e.value.slice(0,g)+"<font color="+h.color+">"+e.value.slice(g,e.value.length)+"</font>"}}a<this._context.length&&this.calculateNewline(e,this._context.slice(a,this._context.length)),this.t_context.textFlow=this._htmlText.parser(e.value)}},n.prototype.calculateNewline=function(t,e){if(this._maxWidth<=0)t.value+=e;else{var n=this.t_context.textFlow;if(this.t_context.textFlow=this._htmlText.parser(t.value+e),this.t_context.width>this._maxWidth)for(var o=0,r=e.length;r>o;o++)this.t_context.textFlow=this._htmlText.parser(t.value+e[0]),this.t_context.width>this._maxWidth&&(t.value+="\n"),t.value+=e[0],e=e.slice(1,e.length);else t.value=t.value+e;this.t_context.textFlow=n}},n.prototype.calculateInsertImageAndPos=function(e,n,o,r,i,s){var a=this.t_context.textFlow;if(this._maxWidth<=0)this.t_context.textFlow=this._htmlText.parser(e.value),r.value=this.t_context.width,e.value+=n;else{if(this.t_context.textFlow=this._htmlText.parser(e.value+n),this.t_context.width>this._maxWidth)e.value+=t.String.padLeft("",Math.ceil(o/this._bitHeight)+1,"\n"),this.t_context.textFlow=this._htmlText.parser(e.value),s.value=this.t_context.numLines,r.value=0,i.value=s.value*this._bitHeight-o;else if(s.value<this.t_context.numLines){var c=e.value.lastIndexOf("\n"),l=e.value.slice(0,c+1)+t.String.padLeft("",Math.ceil(o/this._bitHeight),"\n"),u=e.value.slice(c+1,e.value.length);this.t_context.textFlow=this._htmlText.parser(u),r.value=this.t_context.width,e.value=l+u,this.t_context.textFlow=this._htmlText.parser(e.value),s.value=this.t_context.numLines,i.value=s.value*this._bitHeight-o}else{var c=e.value.lastIndexOf("\n"),u=e.value.slice(c,e.value.length);this.t_context.textFlow=this._htmlText.parser(u),r.value=this.t_context.width,this.t_context.textFlow=this._htmlText.parser(e.value),i.value=s.value*this._bitHeight-o}e.value+=n}this.t_context.textFlow=a},n}(egret.Sprite);t.RichTextField=e,__reflect(e.prototype,"core.RichTextField",["core.IBasicObject"])}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.designSizeWidth=758,t.designSizeHeight=1136,t.designSizeAspectRatio=t.designSizeWidth/t.designSizeHeight,t.serverHttpRUL="ws://120.92.62.28:9021",t.serverIP="120.92.62.28",t.serverPort=9021,t.appkey="NrKzRqUqEdHfEiykWCaEk6f1vsEyCrBM",t}();t.GameConfig=e,__reflect(e.prototype,"core.GameConfig")}(core||(core={}));var GameView=function(t){function e(){var e=t.call(this,"resource/skins/mainSkin.exml")||this;return e.dir=!0,e}return __extends(e,t),e.prototype.open=function(){var t=this;core.SoundManager.getInstance().playBgm("BGM_TITLE_mp3"),this.like.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){t.title.text="嘿嘿嘿，谢谢啦，祝你以后工作顺利，天天开心！",t.like.visible=!1,t.notlike.visible=!1},this),this.notlike.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){t.flash()},this)},e.prototype.destroy=function(){},e.prototype.flash=function(){var t=this.flashBox.width-this.notlike.width,e=this.flashBox.height-this.notlike.height;this.notlike.x=this.flashBox.x+Math.random()*t,this.notlike.y=this.flashBox.y+Math.random()*e},e.prototype.update=function(){1==this.dir?this.horse.x>=this.way.width-this.horse.width?(this.horse.scaleX=-1,this.horse.x=this.way.width,this.dir=!1):this.horse.x+=4:this.horse.x<=this.horse.width?(this.horse.scaleX=1,this.horse.x=0,this.dir=!0):this.horse.x-=4},e}(core.UIView);__reflect(GameView.prototype,"GameView");var GameViewControl=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.destroy=function(){this.gameView&&(this.gameView.parent.removeChild(this.gameView),this.gameView.destroy(),this.gameView=null),t.prototype.destroy.call(this)},e.prototype.open=function(){null==this.gameView&&(this.gameView=new GameView),this.getParent().addChild(this.gameView),this.gameView.open()},e.prototype.update=function(){this.gameView.update()},e}(core.ViewController);__reflect(GameViewControl.prototype,"GameViewControl");var LoadingView=function(t){function e(){return t.call(this,"resource/skins/LoadingSkin.exml")||this}return __extends(e,t),e.prototype.loaderSkinComplete=function(){},e.prototype.setProgress=function(t,e){this.t_loading.text=Math.floor(100*t/e)+"%"},e}(core.UIView);__reflect(LoadingView.prototype,"LoadingView");var LoadingViewControl=function(t){function e(){var e=t.call(this)||this;return e.isResLoaded=!1,e}return __extends(e,t),e.prototype.destroy=function(){this.close(),this.view=null,t.prototype.destroy.call(this)},e.prototype.open=function(){null==this.view&&(this.view=new LoadingView),this.getParent().addChild(this.view);var t="game",e=["game","sound"];core.LoadingManage.getInstance().loadGroups(t,e,this.onResourceLoadComplete,this.onResourceLoadProgress,this)},e.prototype.close=function(){null!=this.view&&this.view.parent&&this.view.parent.removeChild(this.view)},e.prototype.onResourceLoadComplete=function(){this.isResLoaded=!0,this.gameViewController=core.PageManage.getInstance().addViewControl(GameViewControl,core.ViewLayerType.SceneLayer,core.RemoveViewType.RemoveBefore)},e.prototype.onResourceLoadProgress=function(t,e){this.view.setProgress(t,e)},e}(core.ViewController);__reflect(LoadingViewControl.prototype,"LoadingViewControl");